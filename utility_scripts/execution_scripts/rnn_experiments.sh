# RNN Experiments related to Kaggle Web Traffic dataset are shown below 
# Add experiments for new datasets accordingly

#!/usr/bin/env bash

#Hyper-parameter tuning for experts
python ./generic_model_trainer.py --dataset_name kaggle_web_traffic --contain_zero_values 1 --initial_hyperparameter_values_file configs/initial_hyperparameter_values/kaggle_web_traffic_adagrad --binary_train_file_train_mode datasets/binary_data/kaggle_web_traffic/moving_window/hyper-parameter_tuning/filtered_kaggle_stl_59i9.tfrecords --binary_valid_file_train_mode datasets/binary_data/kaggle_web_traffic/moving_window/hyper-parameter_tuning/filtered_kaggle_stl_59i9v.tfrecords --binary_train_file_test_mode datasets/binary_data/kaggle_web_traffic/moving_window/kaggle_stl_59i9v.tfrecords --binary_test_file_test_mode datasets/binary_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.tfrecords --txt_test_file datasets/text_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.txt --actual_results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_results.txt --cell_type LSTM --input_size 9 --forecast_horizon 59 --optimizer cocob --hyperparameter_tuning smac --model_type stacking --input_format moving_window --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --seasonality_period 7 --original_data_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --seed 1 &


#Tuning Number of Experts
python expert_tuner.py --dataset_name kaggle_web_traffic_expert_tuner --contain_zero_values 1 --input_size 9 --forecast_horizon 59 --num_of_series 997 --output_text_dir datasets/text_data/kaggle_web_traffic/moving_window/ --output_binary_dir datasets/binary_data/kaggle_web_traffic/moving_window/ --input_file_start_name kaggle_stl_ --results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --optimizer cocob --input_format moving_window --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --is_early_stopping 1 --hyperparameters results/optimized_configurations/kaggle_web_traffic_stacking_LSTMcell_moving_window_with_stl_decomposition_smac_cocob_without_truncated_backpropagation_with_accumulated_error_1.txt --seed 1 &


# Without Ensembling
#Single RNN
python ./optimized_trainer.py --dataset_name kaggle_web_traffic_no_ensemble --contain_zero_values 1 --initial_hyperparameter_values_file configs/initial_hyperparameter_values/kaggle_web_traffic_adagrad --binary_train_file_train_mode datasets/binary_data/kaggle_web_traffic/moving_window/kaggle_stl_59i9.tfrecords --binary_valid_file_train_mode datasets/binary_data/kaggle_web_traffic/moving_window/kaggle_stl_59i9v.tfrecords --binary_train_file_test_mode datasets/binary_data/kaggle_web_traffic/moving_window/kaggle_stl_59i9v.tfrecords --binary_test_file_test_mode datasets/binary_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.tfrecords --txt_test_file datasets/text_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.txt --actual_results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_results.txt --cell_type LSTM --input_size 9 --forecast_horizon 59 --optimizer cocob --hyperparameter_tuning smac --model_type stacking --input_format moving_window --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --seasonality_period 7 --original_data_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --seed 1 &


#kmeans Clustering with Optimal Number of Clusters (tsfeatures) - Elbow Method
python ./clustering.py --dataset_name kaggle_web_traffic --optimal_num_of_clusters 4 --contain_zero_values 1 --input_size 9 --forecast_horizon 59 --num_of_series 997 --output_text_dir datasets/text_data/kaggle_web_traffic/moving_window/ --output_binary_dir datasets/binary_data/kaggle_web_traffic/moving_window/ --input_file_start_name kaggle_stl_ --optimizer cocob --input_format moving_window  --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --txt_test_file datasets/text_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.txt --actual_results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_results.txt --original_data_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --cluster_file_path datasets/text_data/kaggle_web_traffic/clusters/kaggle_web_traffic_clusters --hyperparameters results/optimized_configurations/kaggle_web_traffic_stacking_LSTMcell_moving_window_with_stl_decomposition_smac_cocob_without_truncated_backpropagation_with_accumulated_error_1.txt --seasonality_period 7 --clustering_type elbow_optimal_clustering --seed 1 &


#kmeans++ Clustering with Optimal Number of Clusters (tsfeatures) - Elbow Method
python ./clustering.py --dataset_name kaggle_web_traffic --optimal_num_of_clusters 4 --contain_zero_values 1 --input_size 9 --forecast_horizon 59 --num_of_series 997 --output_text_dir datasets/text_data/kaggle_web_traffic/moving_window/ --output_binary_dir datasets/binary_data/kaggle_web_traffic/moving_window/ --input_file_start_name kaggle_stl_ --optimizer cocob --input_format moving_window  --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --txt_test_file datasets/text_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.txt --actual_results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_results.txt --original_data_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --cluster_file_path datasets/text_data/kaggle_web_traffic/clusters/kaggle_web_traffic_kpp_clusters --hyperparameters results/optimized_configurations/kaggle_web_traffic_stacking_LSTMcell_moving_window_with_stl_decomposition_smac_cocob_without_truncated_backpropagation_with_accumulated_error_1.txt --seasonality_period 7 --clustering_type kpp_elbow_optimal_clustering --seed 1 &


#Random clustering with optimal number of clusters
python ./clustering.py --dataset_name kaggle_web_traffic --optimal_num_of_clusters 4 --contain_zero_values 1 --input_size 9 --forecast_horizon 59 --num_of_series 997 --output_text_dir datasets/text_data/kaggle_web_traffic/moving_window/ --output_binary_dir datasets/binary_data/kaggle_web_traffic/moving_window/ --input_file_start_name kaggle_stl_ --optimizer cocob --input_format moving_window  --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --txt_test_file datasets/text_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.txt --actual_results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_results.txt --original_data_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --cluster_file_path datasets/text_data/kaggle_web_traffic/clusters/kaggle_web_traffic_random_clusters --hyperparameters results/optimized_configurations/kaggle_web_traffic_stacking_LSTMcell_moving_window_with_stl_decomposition_smac_cocob_without_truncated_backpropagation_with_accumulated_error_1.txt --seasonality_period 7 --clustering_type random_optimal_clustering --seed 1 &


#Xmeans Clustering with Optimal Number of Clusters (tsfeatures)
python ./clustering.py --dataset_name kaggle_web_traffic --optimal_num_of_clusters 5 --contain_zero_values 1 --input_size 9 --forecast_horizon 59 --num_of_series 997 --output_text_dir datasets/text_data/kaggle_web_traffic/moving_window/ --output_binary_dir datasets/binary_data/kaggle_web_traffic/moving_window/ --input_file_start_name kaggle_stl_ --optimizer cocob --input_format moving_window  --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --txt_test_file datasets/text_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.txt --actual_results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_results.txt --original_data_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --cluster_file_path datasets/text_data/kaggle_web_traffic/clusters/kaggle_web_traffic_xmeans_clusters --hyperparameters results/optimized_configurations/kaggle_web_traffic_stacking_LSTMcell_moving_window_with_stl_decomposition_smac_cocob_without_truncated_backpropagation_with_accumulated_error_1.txt --seasonality_period 7 --clustering_type xmeans_clustering --seed 1 &


#With Ensembling
#Ensemble of Experts
python ensemble_of_experts.py --dataset_name kaggle_web_traffic --contain_zero_values 1 --num_of_experts 3 --input_size 9 --forecast_horizon 59 --num_of_series 997 --output_text_dir datasets/text_data/kaggle_web_traffic/moving_window/ --output_binary_dir datasets/binary_data/kaggle_web_traffic/moving_window/ --input_file_start_name kaggle_stl_ --optimizer cocob --input_format moving_window --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --is_early_stopping 1 --txt_test_file datasets/text_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.txt --actual_results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_results.txt --original_data_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --seasonality_period 7 --hyperparameters results/optimized_configurations/kaggle_web_traffic_stacking_LSTMcell_moving_window_with_stl_decomposition_smac_cocob_without_truncated_backpropagation_with_accumulated_error_1.txt --seed 1 &


#K-means Clustering tsfeatures - with same seed
python ./clustering.py --dataset_name kaggle_web_traffic --contain_zero_values 1 --input_size 9 --forecast_horizon 59 --num_of_series 997 --output_text_dir datasets/text_data/kaggle_web_traffic/moving_window/ --output_binary_dir datasets/binary_data/kaggle_web_traffic/moving_window/ --input_file_start_name kaggle_stl_ --optimizer cocob --input_format moving_window --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --txt_test_file datasets/text_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.txt --actual_results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_results.txt --original_data_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --cluster_file_path datasets/text_data/kaggle_web_traffic/clusters/kaggle_web_traffic_clusters --hyperparameters results/optimized_configurations/kaggle_web_traffic_stacking_LSTMcell_moving_window_with_stl_decomposition_smac_cocob_without_truncated_backpropagation_with_accumulated_error_1.txt --seasonality_period 7 --seed 1 &


#K-means++ Clustering tsfeatures - with same seed
python ./clustering.py --dataset_name kaggle_web_traffic --contain_zero_values 1 --input_size 9 --forecast_horizon 59 --num_of_series 997 --output_text_dir datasets/text_data/kaggle_web_traffic/moving_window/ --output_binary_dir datasets/binary_data/kaggle_web_traffic/moving_window/ --input_file_start_name kaggle_stl_ --optimizer cocob --input_format moving_window --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --txt_test_file datasets/text_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.txt --actual_results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_results.txt --original_data_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --cluster_file_path datasets/text_data/kaggle_web_traffic/clusters/kaggle_web_traffic_kpp_clusters --hyperparameters results/optimized_configurations/kaggle_web_traffic_stacking_LSTMcell_moving_window_with_stl_decomposition_smac_cocob_without_truncated_backpropagation_with_accumulated_error_1.txt --seasonality_period 7 --clustering_type kmeanspp_clustering --seed 1 &


#K-means Clustering tsfeatures - with different seeds
python ./clustering.py --dataset_name kaggle_web_traffic --contain_zero_values 1 --input_size 9 --forecast_horizon 59 --num_of_series 997 --output_text_dir datasets/text_data/kaggle_web_traffic/moving_window/ --output_binary_dir datasets/binary_data/kaggle_web_traffic/moving_window/ --input_file_start_name kaggle_stl_ --optimizer cocob --input_format moving_window --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --txt_test_file datasets/text_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.txt --actual_results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_results.txt --original_data_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --cluster_file_path datasets/text_data/kaggle_web_traffic/clusters/kaggle_web_traffic_seed_clusters --hyperparameters results/optimized_configurations/kaggle_web_traffic_stacking_LSTMcell_moving_window_with_stl_decomposition_smac_cocob_without_truncated_backpropagation_with_accumulated_error_1.txt --seasonality_period 7 --clustering_type kmeans_seed_clustering --with_different_seeds 1 --cluster_number_for_seeds 4 --seed 1 &


#K-means++ Clustering tsfeatures - with different seeds
python ./clustering.py --dataset_name kaggle_web_traffic --contain_zero_values 1 --input_size 9 --forecast_horizon 59 --num_of_series 997 --output_text_dir datasets/text_data/kaggle_web_traffic/moving_window/ --output_binary_dir datasets/binary_data/kaggle_web_traffic/moving_window/ --input_file_start_name kaggle_stl_ --optimizer cocob --input_format moving_window --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --txt_test_file datasets/text_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.txt --actual_results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_results.txt --original_data_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --cluster_file_path datasets/text_data/kaggle_web_traffic/clusters/kaggle_web_traffic_seed_kpp_clusters --hyperparameters results/optimized_configurations/kaggle_web_traffic_stacking_LSTMcell_moving_window_with_stl_decomposition_smac_cocob_without_truncated_backpropagation_with_accumulated_error_1.txt --seasonality_period 7 --clustering_type kmeanspp_seed_clustering --with_different_seeds 1 --cluster_number_for_seeds 4 --seed 1 &


#DTW Clustering
python ./clustering.py --dataset_name kaggle_web_traffic --contain_zero_values 1 --input_size 9 --forecast_horizon 59 --num_of_series 997 --output_text_dir datasets/text_data/kaggle_web_traffic/moving_window/ --output_binary_dir datasets/binary_data/kaggle_web_traffic/moving_window/ --input_file_start_name kaggle_stl_ --optimizer cocob --input_format moving_window  --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --txt_test_file datasets/text_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.txt --actual_results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_results.txt --original_data_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --cluster_file_path datasets/text_data/kaggle_web_traffic/clusters/kaggle_web_traffic_dtw_clusters --hyperparameters results/optimized_configurations/kaggle_web_traffic_stacking_LSTMcell_moving_window_with_stl_decomposition_smac_cocob_without_truncated_backpropagation_with_accumulated_error_1.txt --seasonality_period 7 --clustering_type dtw_pam_clustering --seed 1 &


#Random Clustering
python ./clustering.py --dataset_name kaggle_web_traffic --contain_zero_values 1 --input_size 9 --forecast_horizon 59 --num_of_series 997 --output_text_dir datasets/text_data/kaggle_web_traffic/moving_window/ --output_binary_dir datasets/binary_data/kaggle_web_traffic/moving_window/ --input_file_start_name kaggle_stl_ --optimizer cocob --input_format moving_window --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --txt_test_file datasets/text_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.txt --actual_results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_results.txt --original_data_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --cluster_file_path datasets/text_data/kaggle_web_traffic/clusters/kaggle_web_traffic_random_clusters --hyperparameters results/optimized_configurations/kaggle_web_traffic_stacking_LSTMcell_moving_window_with_stl_decomposition_smac_cocob_without_truncated_backpropagation_with_accumulated_error_1.txt --seasonality_period 7 --clustering_type random_clustering --seed 1 &
python ./clustering.py --dataset_name kaggle_web_traffic --contain_zero_values 1 --input_size 9 --forecast_horizon 59 --num_of_series 997 --output_text_dir datasets/text_data/kaggle_web_traffic/moving_window/ --output_binary_dir datasets/binary_data/kaggle_web_traffic/moving_window/ --input_file_start_name kaggle_stl_ --optimizer cocob --input_format moving_window --with_accumulated_error 1 --integer_conversion 1 --address_near_zero_instability 1 --txt_test_file datasets/text_data/kaggle_web_traffic/moving_window/kaggle_stl_test_59i9.txt --actual_results_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_results.txt --original_data_file datasets/text_data/kaggle_web_traffic/kaggle_web_traffic_dataset.txt --cluster_file_path datasets/text_data/kaggle_web_traffic/clusters/kaggle_web_traffic_random_seed_clusters --hyperparameters results/optimized_configurations/kaggle_web_traffic_stacking_LSTMcell_moving_window_with_stl_decomposition_smac_cocob_without_truncated_backpropagation_with_accumulated_error_1.txt --seasonality_period 7 --clustering_type random_seed_clustering --with_different_seeds 1 --cluster_number_for_seeds 4 --seed 1 &









